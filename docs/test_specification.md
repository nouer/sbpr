# テスト仕様書

## 1. 単体テスト (bp.calc.test.js)

### 1.1 血圧分類テスト
| テストID | テスト内容 | 入力 | 期待結果 |
|----------|-----------|------|----------|
| UT-001 | 正常血圧の判定 | sys=110, dia=70 | "正常血圧" |
| UT-002 | 正常高値血圧の判定 | sys=120, dia=70 | "正常高値血圧" |
| UT-003 | 高値血圧の判定（収縮期） | sys=130, dia=70 | "高値血圧" |
| UT-004 | 高値血圧の判定（拡張期） | sys=110, dia=80 | "高値血圧" |
| UT-005 | I度高血圧の判定 | sys=140, dia=85 | "I度高血圧" |
| UT-006 | II度高血圧の判定 | sys=150, dia=95 | "II度高血圧" |
| UT-007 | III度高血圧の判定 | sys=165, dia=105 | "III度高血圧" |

### 1.2 統計計算テスト
| テストID | テスト内容 | 入力 | 期待結果 |
|----------|-----------|------|----------|
| UT-010 | 平均値計算 | [{sys:120,dia:80},{sys:130,dia:85}] | {avgSys:125, avgDia:82.5} |
| UT-011 | 最大/最小値 | [{sys:120,dia:80},{sys:140,dia:90}] | {maxSys:140, minSys:120, ...} |
| UT-012 | 空配列の平均値 | [] | null |

### 1.3 バリデーションテスト
| テストID | テスト内容 | 入力 | 期待結果 |
|----------|-----------|------|----------|
| UT-020 | 正常な入力 | sys=120, dia=80 | valid: true |
| UT-021 | 収縮期が範囲外（低） | sys=40, dia=80 | valid: false |
| UT-022 | 収縮期が範囲外（高） | sys=310, dia=80 | valid: false |
| UT-023 | 収縮期 <= 拡張期 | sys=80, dia=80 | valid: false |
| UT-024 | 脈拍が範囲外 | pulse=20 | valid: false |

## 2. E2Eテスト (e2e.test.js)

### 2.1 基本操作テスト
| テストID | テスト内容 | 操作 | 期待結果 |
|----------|-----------|------|----------|
| E2E-001 | ページ表示 | トップページにアクセス | タイトルが表示される |
| E2E-002 | 血圧記録 | フォームに入力して保存 | 一覧に記録が追加される |
| E2E-003 | 記録削除 | 削除ボタンをクリック | 一覧から記録が消える |
| E2E-004 | グラフ表示 | グラフタブに切替 | グラフが描画される |
| E2E-005 | pageerror検知 | 全操作中 | JSエラーが発生しないこと |

### 2.2 データ管理テスト
| テストID | テスト内容 | 操作 | 期待結果 |
|----------|-----------|------|----------|
| E2E-010 | エクスポート | エクスポートボタンクリック | JSONファイルがダウンロードされる |
| E2E-011 | インポート | JSONファイルを選択 | データがインポートされる |
